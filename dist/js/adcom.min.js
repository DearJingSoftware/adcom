+function(a){"use strict";a.fn.selectn=function(a,b){var c;a=a.replace(/\[([-_\w]+)\]/g,".$1"),c=a.split(".");for(var d=b||(1,eval)("this"),e=c.length,f=0;e>f;f+=1)d&&(d=d[c[f]]);return d},a.fn.serializeObject=function(){var b={};return a.each(this.serializeArray(),function(c,d){var e=d.name,f=d.value;b[e]=void 0===b[e]?f:a.isArray(b[e])?b[e].concat(f):[b[e],f]}),b}}(jQuery),+function(a){"use strict";function b(c){var d=Array.prototype.slice.call(arguments,b.length);return this.each(function(){var b=a(this),f=b.data("ac.list"),g=a.extend({},e.DEFAULTS,b.data(),"object"==typeof c&&c);f||b.data("ac.list",f=new e(this,g)),"string"==typeof c?f[c].apply(f,d):g.show&&!g.remote?f.show():"object"==typeof c&&f.update(c)})}function c(b,c){return a.makeArray(b).concat(a.makeArray(a(b).parents())).reduce(function(b,d){return b?b:void 0!==a(d).data(c)?a(d):void 0},null)}function d(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"},c=function(a){return b[a]},d="(?:"+Object.getOwnPropertyNames(b).join("|")+")",e=RegExp(d),f=RegExp(d,"g");return a=null==a?"":""+a,e.test(a)?a.replace(f,c):a}var e=function(b,c){this.options=c,this.$element=a(b),this.$items="string"==typeof this.options.items?JSON.parse(this.options.items):this.options.items,this.$states=this.options.states,this.$rendered=[],this.template=this.parseTemplate(this.options.template),this.filters={},this.updateOptions({currentPage:this.options.currentPage,pageSize:this.options.pageSize,sort:this.options.sort,filters:this.options.filters}),this.setInitialState(),this.options.remote&&a.getJSON(this.options.remote,a.proxy(function(b){this.$items=b,this.options.show&&this.show(),this.$element.trigger(a.Event("loaded.ac.list",{items:b}))},this))};e.VERSION="0.1.0",e.TRIGGER_EVENTS=a.map("click keydown keypress keyup focus blur focusin focusout change select submit".split(" "),function(a){return a+".ac.list.data-api"}).join(" "),e.DEFAULTS={show:!0,selectedClass:"",sort:null,filters:{},states:[],currentPage:1},e.prototype.updateOptions=function(a){a.template&&(this.template=this.parseTemplate(a.template)),a.currentPage&&(this.currentPage=parseInt(a.currentPage)),a.pageSize&&(this.pageSize=parseInt(a.pageSize)),a.sort&&this.setSort(a.sort),a.filters&&this.setFilter(a.filters)},e.prototype.show=function(){this.$element.trigger("show.ac.list");var b=this.getCurrentItems();this.$element.empty(),this.$rendered=[],a.each(b,a.proxy(function(b,c){this.renderItem(c);a(this.$element).append(this.renderItem(c))},this)),this.$element.trigger(a.Event("shown.ac.list",{items:b}))},e.prototype.select=function(b){var c=this;b=a.map([b],function(a){return a}),a(b).each(function(a,b){c.changeState(b,!0)})},e.prototype.deselect=function(b){var c=this;b=a.map([b],function(a){return a}),a(b).each(function(a,b){c.changeState(b,!1)})},e.prototype.toggle=function(b){var c=this;b=a.map([b],function(a){return a}),a(b).each(function(b,d){var e="number"==typeof d?d:a(d).data("ac.list.index");c.changeState(d,c.$states[e]?!1:!0)})},e.prototype.changeState=function(b,c){if("number"==typeof b)var d=this.$items[b],e=b,f=a(this.$rendered[e]);else var f=a(b),d=f.data("ac.list.item"),e=f.data("ac.list.index");this.$element.trigger(a.Event("toggle.ac.list",{item:d,target:f,index:e,state:c})),this.$states[e]=c,f&&f[c?"addClass":"removeClass"](this.options.selectedClass),this.$element.trigger(a.Event("toggled.ac.list",{item:d,target:f,index:e,state:c}))},e.prototype.getSelected=function(){var b=[],c=this;return a.each(this.$items,function(a,d){c.$states[a]&&b.push(d)}),b},e.prototype.setInitialState=function(){var b=this;this.toggleFilter(a(".active[data-filter][data-target]")),a("[data-sort]").each(function(){var c=a(this);if(a(c.data("target"))[0]==b.$element[0]){var d=c.data("sort");c.hasClass("sort-ascending")&&b.setSort(d+".ascending"),c.hasClass("sort-descending")&&b.setSort(d+".descending")}})},e.prototype.parseTemplate=function(a){return"function"==typeof a?a:"string"==typeof a?this.compileTemplate(a):this.options.fields?this.defaultTemplate():this.compileTemplate(d(this.$element.html()))},e.prototype.compileTemplate=function(a){return this.options.templateEngine?this.options.templateEngine(a):function(){return a}},e.prototype.defaultTemplate=function(){var b="string"==typeof this.options.fields?this.options.fields.split(/,\s*/):this.options.fields,c="";return a.each(b,function(a,b){c+='<td data-field="'+b+'"></td>'}),this.compileTemplate("<tr>"+c+"</tr>")},e.prototype.getSort=function(b){if("function"==typeof b||null===b||void 0===b)return b;var c=[];return a.each(b,function(a,b){var d=b.match(/\.des(c(end(ing)?)?)?$/)?-1:1;b=b.replace(/\.((des(c(end(ing)?)?)?)|(asc(end(ing)?)?)?)$/,""),c.push([b,d])}),function(b,d){for(var e=0;e<c.length;e++){var f=c[e][0],g=c[e][1],h=a.fn.selectn(f,b),i=a.fn.selectn(f,d),j=("function"==typeof h?h():h)||"",k=("function"==typeof i?i():i)||"";if("string"==typeof j&&(j=j.toLowerCase()),"string"==typeof k&&(k=k.toLowerCase()),k>j)return-1*g;if(j>k)return 1*g}return 0}},e.prototype.getFilter=function(b,c){if("function"==typeof c||void 0===c)return c;var d="string"==typeof b?b.split(/,\s*/):[b];return function(b){var e=!1;return c=c.toLowerCase().trim(),a.each(d,function(d,f){if(!e){var g=a.fn.selectn(f,b);"function"==typeof g&&(g=g()),String(g).toLowerCase().trim().indexOf(c)>-1&&(e=!0)}}),e}},e.prototype.setSort=function(b){"string"==typeof b&&(b=b.split(/,\s*/)),this.$element.trigger(a.Event("sortChange.ac.list",{fields:b})),this.sort=this.getSort(b),this.currentPage=1,this.$element.trigger(a.Event("sortChanged.ac.list",{fields:b,"function":this.sort}))},e.prototype.setFilter=function(b,c){return"object"==typeof b?a.each(b,a.proxy(function(a,b){this.setFilter(a,b)},this)):(this.$element.trigger(a.Event("filterChange.ac.list",{key:b,filter:c})),void 0===c?delete this.filters[b]:this.filters[b]=this.getFilter(b,c),this.currentPage=1,void this.$element.trigger(a.Event("filterChanged.ac.list",{key:b,filter:c,"function":this.filters[b]})))},e.prototype.setCurrentPage=function(b){this.$element.trigger(a.Event("pageChange.ac.list",{})),this.currentPage=parseInt(b),this.$element.trigger(a.Event("pageChanged.ac.list",{page:this.currentPage}))},e.prototype.getCurrentItems=function(){var a=this.$items.slice(0);return this.filters&&Object.keys(this.filters).length&&(a=this.getFilteredItems(a)),this.sort&&(a=this.getSortedItems(a)),this.pageSize&&(a=this.getPaginatedItems(a)),a},e.prototype.getFilteredItems=function(b){var c=this;if(!a.isEmptyObject(this.filters)){var d=[];return a.each(b,function(b,e){var f=!0;a.each(c.filters,function(a,b){f&&b(e)||(f=!1)}),f&&d.push(e)}),d}return b},e.prototype.getSortedItems=function(a){return this.sort?a.sort(this.sort):a},e.prototype.getPaginatedItems=function(b){var c=b.length,d=Math.ceil(c/this.pageSize),e=(this.currentPage-1)*this.pageSize,f=e+this.pageSize,g=Math.min(e+1,c),h=Math.min(f,c);return b=b.slice(e,f),this.$element.trigger(a.Event("paginated.ac.list",{page:this.currentPage,pages:d,count:c,items:b,start:g,end:h})),b},e.prototype.renderItem=function(b){var c=b,d=this.$items.indexOf(b),e=a(this.template(c)),f=a.grep(a.makeArray(e),function(a){return-1==[1,3,11].indexOf(a.nodeType)?!1:3==a.nodeType&&a.nodeValue.match(/^\s*$/)?!1:!0});f.length>1&&console.error("Adcom List templates can have only one top-level element. It currently has "+f.length+".",this.$element[0],f);var g=f[0];this.$states[d]&&a(g).addClass(this.options.selectedClass);var h=void 0===a(g).data("field")?a(g).find("[data-field]"):a(g);return h.each(function(b,d){var e=a(d).attr("data-field"),f="function"!=typeof c[e]?c[e]:c[e]();a(d).html(String(f||""))}),a(g).data("ac.list.item",c),a(g).data("ac.list.index",d),a(g).on("update.ac.list",a.proxy(function(b){this.update(a(g),b.item)},this)),this.$rendered[d]=g,g},e.prototype.getItemIndex=function(b){return"number"==typeof b?b:a(b)[0]instanceof HTMLElement?a(b).data("ac.list.index"):this.$items.indexOf(b)},e.prototype.add=function(a,b){b=void 0==b?this.$items.length:b,this.$items.splice(b,0,a),this.$states.splice(b,0,void 0),this.$rendered.splice(b,0,void 0),this.show()},e.prototype.update=function(b,c){var d=this.getItemIndex(b);if(-1==d)throw"Item not found in List, and could not be updated.";if(this.$items[d]=c,this.$rendered[d]){var e=a(this.$rendered[d]),f=this.renderItem(c);e.replaceWith(f),this.$rendered[d]=f[0]}this.show()},e.prototype.delete=function(a){var b=this.getItemIndex(a);if(-1==b)throw"Item not found in List, and could not be deleted.";this.$items.splice(b,1),this.$states.splice(b,1),this.$rendered.splice(b,1),this.show()},e.prototype.destroy=function(){this.$element.off(".ac.list").removeData("ac.list"),this.$element.empty(),this.$states=this.$rendered=[]},e.prototype.toggleSort=function(b){var c=this;b.each(function(){var b=a(this),d=(a(b.data("target")),b.data("sort")),e=(b.data("states")||"ascending,descending").split(/,\s*/),f=(b.attr("class").match(/[\^\s]sort-(ascending|descending)/)||[])[1],g=e.indexOf(f),h=e[(g+1)%e.length];a('[data-sort][data-target="'+b.data("target")+'"]').removeClass("sort-ascending sort-descending"),"off"===h?c.setSort(null):(b.addClass("sort-"+h),c.setSort(d+"."+h))})},e.prototype.toggleFilter=function(b){var c=this;b.each(function(){var b=a(this),d=a(b.data("target"));if(d[0]===c.$element[0]){var e=b.attr("data-filter"),f=b.is(":input")?b.val():b.attr("data-match");f||(f=void 0),c.setFilter(e,f)}})};var f=a.fn.list;a.fn.list=b,a.fn.list.Constructor=e,a.fn.list.noConflict=function(){return a.fn.list=f,this},a(document).on("click.ac.list.data-api",'[data-toggle="select"]',function(){var d=a(this).closest('[data-toggle="select"]'),e=c(d,"ac.list.item"),f=c(d,"ac.list");b.call(f,"toggle",e)}),a(document).on("click.ac.list.data-api","[data-sort]",function(c){var d=a(this).closest("[data-sort]"),e=a(d.data("target"));d.is("a")&&c.preventDefault(),b.call(e,"toggleSort",d),b.call(e,"show")}),a(document).on(e.TRIGGER_EVENTS,"[data-filter]",function(c){var d=a(this).closest("[data-filter]"),e=a(d.data("target")),f=d.is(":input")?"change":"click",g=(d.attr("data-trigger")||f).split(" ");-1!=g.indexOf(c.type)&&(d.is("a")&&"click"===c.type&&c.preventDefault(),b.call(e,"toggleFilter",d),b.call(e,"show"))}),a(document).on("click.ac.list.data-api","[data-page]",function(c){var d=a(this).closest("[data-page]"),e=a(d.data("target"));d.is("a")&&c.preventDefault(),b.call(e,"setCurrentPage",d.data("page")),b.call(e,"show")})}(jQuery),+function(a){"use strict";function b(c){var d=Array.prototype.slice.call(arguments,b.length);return this.each(function(){var b=a(this),f=b.data("ac.form"),g=a.extend({},e.DEFAULTS,b.data(),"object"==typeof c&&c);f||b.data("ac.form",f=new e(this,g)),"string"==typeof c?f[c].apply(f,d):g.show&&void 0!==g.serialized&&f.show("string"===g.serialized?JSON.parse(g.serialized):g.serialized,d[0]||{})})}function c(b,c){return a.makeArray(b).concat(a.makeArray(a(b).parents())).reduce(function(b,d){return b?b:void 0!==a(d).data(c)?a(d):void 0},null)}function d(){var a=!1,b=document.createElement("form");return b.innerHTML='<input name="test" required><button></button>',b.addEventListener("submit",function(a){window.opera?a.stopPropagation():a.preventDefault()}),b.getElementsByTagName("input")[0].addEventListener("invalid",function(b){a=!0,b.preventDefault(),b.stopPropagation()}),b.getElementsByTagName("button")[0].click(),a}var e=function(b,c){this.options=c,this.$element=a(b),("undefined"==typeof this.$element.attr("data-original-novalidate")||null===this.$element.attr("data-original-novalidate"))&&this.$element.attr("data-original-novalidate","undefined"!=typeof this.$element.attr("novalidate")&&this.$element.attr("novalidate")!==!1),this.$element.attr("novalidate",""),this.$validate=!this.$element.data("original-novalidate"),this.$nativeValidation=d(),this.$displayNativeValidation=a('<input style="display: none;" type="submit" onsubmit="return false;">'),this.$element.append(this.$displayNativeValidation)};e.VERSION="0.1.0",e.DEFAULTS={show:!0,action:!0},e.prototype.show=function(b,c,d){var e=a.Event("show.ac.form",{serialized:b,relatedTarget:d});this.$element.trigger(e),e.isDefaultPrevented()||(this.$element[0].reset(),this.$element.find(":input[name]").each(function(c,d){var e=d.name||a(d).attr("name"),f=a.fn.selectn(e,b);/^(?:radio|checkbox)$/i.test(d.type)?f==d.value&&(d.checked=!0):a(d).val(f)}),c=c||{},this.sourceElement=c.sourceElement,this.sourceData=c.sourceData,a(this.$element[0]).one("reset",a.proxy(function(){this.sourceElement=this.sourceData=null},this)),this.$element.trigger(a.Event("shown.ac.form",{serialized:b,relatedTarget:d,sourceElement:this.sourceElement,sourceData:this.sourceData})))},e.prototype.serialize=function(){return{array:this.$element.serializeArray(),object:this.$element.serializeObject()}},e.prototype.validate=function(b){if(this.$validate){var c=a.Event("validate.ac.form",this.serialize());if(this.$element.trigger(c),!c.isDefaultPrevented()){var d=this.$element[0].checkValidity();d||(this.invalid(),b.preventDefault(),b.stopImmediatePropagation()),this.$element.trigger(a.Event("validated.ac.form",{isValid:d}))}}},e.prototype.invalid=function(){var b=this,c=a.Event("invalid.ac.form");this.$element.trigger(c),!c.isDefaultPrevented()&&this.$validate&&this.$nativeValidation&&setTimeout(function(){b.$element.removeAttr("novalidate"),b.$displayNativeValidation.click(),b.$element.attr("novalidate","")},0)},e.prototype.addEventAttributes=function(b){a.extend(b,this.serialize(),{relatedTarget:this.$element,sourceElement:this.sourceElement,sourceData:this.sourceData})},e.prototype.destroy=function(){this.$element.off(".ac.form").removeData("ac.form"),this.$validate?this.$element.removeAttr("novalidate"):this.$element.attr("novalidate","")};var f=a.fn.form;a.fn.form=b,a.fn.form.Constructor=e,a.fn.form.noConflict=function(){return a.fn.form=f,this},a.event.special.submit={add:function(b){var c,d=b.handler;b.handler=function(b){return(c=a(this).data("ac.form"))&&(b.originalEvent._validated||c.validate(b),b._addedAttributes||c.addEventAttributes(b),b.originalEvent._validated=b._addedAttributes=!0),b.isImmediatePropagationStopped()?void 0:d.apply(this,arguments)}}},a(document).on("click.ac.form.data-api",'[data-toggle="form"]',function(){var d=a(a(this).closest('[data-toggle="form"]')[0]),e=a(a(d.data("target"))[0]),f=d.data("source")||"serialized",g=c(d,f);if(g){var h=g.data(f);"string"===h?JSON.parse(h):h,e.form({show:!1}),b.call(e,"show",h,{sourceElement:g.clone(!0,!1),sourceData:h},d[0])}}),a(document).on("submit.ac.form.data-api",'[data-control="form"]',function(c){var d=a(this),e=d.data("ac.form")||b.call(d).data("ac.form");e.options.action||c.preventDefault()})}(jQuery);