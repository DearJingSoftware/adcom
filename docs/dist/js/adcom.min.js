+function(a){"use strict";function b(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"},c=function(a){return b[a]},d="(?:"+Object.getOwnPropertyNames(b).join("|")+")",e=RegExp(d),f=RegExp(d,"g");return a=null==a?"":""+a,e.test(a)?a.replace(f,c):a}function c(b){var d=Array.prototype.slice.call(arguments,c.length);return"data"==b?f.data.apply(this,d):this.each(function(){var c=a(this),e=c.data("ac.list"),g=a.extend({},f.DEFAULTS,c.data(),e&&e.options,"object"==typeof b&&b);e||c.data("ac.list",e=new f(this,g)),"string"==typeof b?e[b].apply(e,d):g.show&&!g.remote&&e.show()})}function d(b,c){return a.makeArray(b).concat(a.makeArray(a(b).parents())).reduce(function(b,d){return b?b:void 0!==a(d).data(c)?a(d):void 0},null)}function e(a){function b(a){for(var b=a||(1,eval)("this"),d=c.length,e=0;d>e;e+=1)b&&(b=b[c[e]]);return b}var c=a.replace(/\[([-_\w]+)\]/g,".$1").split(".");return arguments.length>1?b(arguments[1]):b}var f=function(b,c){var d=this;this.options=c,this.$element=a(b),this.$items="string"==typeof this.options.items?JSON.parse(this.options.items):this.options.items,this.template=this.parseTemplate(this.options.template),this.states="string"==typeof this.options.states?this.options.states.split(/,\s*/):this.options.states||[],this.rendered=[],this.sort=this.options.sort?this.getSort.apply(this,a.map([this.options.sort],function(a){return a})):null,this.filters={},this.currentPage=parseInt(this.options.currentPage||1),this.pageSize=parseInt(this.options.pageSize||1),this.setInitialState(),this.options.remote&&a.getJSON(this.options.remote,function(b){d.$items=b,d.options.show&&d.show(),d.$element.trigger(a.Event("loaded.ac.list",{items:b}))})};f.VERSION="0.1.0",f.EVENTS=a.map("scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave load resize scroll unload error keydown keypress keyup load resize scroll unload error blur focus focusin focusout change select submit".split(" "),function(a){return a+".ac.list.data-api"}).join(" "),f.DEFAULTS={show:!0,items:[],states:[],selectedClass:"",filtering:"on",sorting:"on",pagination:"off",currentPage:1,pageSize:20},f.prototype.show=function(){var b=this;b.$element.trigger("show.ac.list");var c=b.getCurrentItems();b.$element.empty(),b.rendered=[],a.each(c,function(c,d){b.renderItem(d);a(b.$element).append(b.renderItem(d))}),b.$element.trigger(a.Event("shown.ac.list",{items:c}))},f.prototype.select=function(b){var c=this;b=a.map([b],function(a){return a}),a(b).each(function(a,b){c.changeState(b,!0)})},f.prototype.deselect=function(b){var c=this;b=a.map([b],function(a){return a}),a(b).each(function(a,b){c.changeState(b,!1)})},f.prototype.toggle=function(b){var c=this;b=a.map([b],function(a){return a}),a(b).each(function(b,d){var e="number"==typeof d?d:a(d).data("ac.list.index");c.changeState(d,c.states[e]?!1:!0)})},f.prototype.changeState=function(b,c){if("number"==typeof b)var d=this.$items[b],e=b,f=a(this.rendered[e]);else var f=a(b),d=f.data("ac.list.item"),e=f.data("ac.list.index");this.$element.trigger(a.Event("toggle.ac.list",{item:d,target:f,index:e,state:c})),this.states[e]=c,f&&f[c?"addClass":"removeClass"](this.options.selectedClass),this.$element.trigger(a.Event("toggled.ac.list",{item:d,target:f,index:e,state:c}))},f.prototype.getSelected=function(){var b=[],c=this;return a.each(this.$items,function(a,d){c.states[a]&&b.push(d)}),b},f.prototype.setInitialState=function(){var b=this;this.toggleFilter(a(".active[data-filter][data-target]")),a("[data-sort]").each(function(){var c=a(this);if(a(c.data("target"))[0]==b.$element[0]){var d=c.data("sort");c.hasClass("sort-ascending")&&b.setSort(d,!1),c.hasClass("sort-descending")&&b.setSort(d,!0)}})},f.prototype.parseTemplate=function(a){return"function"==typeof a?a:"string"==typeof a?this.compileTemplate(a):this.options.fields?this.defaultTemplate():this.compileTemplate(b(this.$element.html()))},f.prototype.compileTemplate=function(a){return this.options.templateEngine?this.options.templateEngine(a):function(){return a}},f.prototype.defaultTemplate=function(){var b="string"==typeof this.options.fields?this.options.fields.split(/,\s*/):this.options.fields,c="";return a.each(b,function(a,b){c+='<td data-field="'+b+'"></td>'}),this.compileTemplate("<tr>"+c+"</tr")},f.prototype.getSort=function(a,b){var c=b?-1:1;return null===a||void 0===a?null:"function"==typeof a?function(b,d){return a(b,d)*c}:function(b,d){var f=e(a,b),g=e(a,d),h=("function"==typeof f?f():f)||"",i=("function"==typeof g?g():g)||"";return"string"==typeof h&&(h=h.toLowerCase()),"string"==typeof i&&(i=i.toLowerCase()),i>h?-1*c:h>i?1*c:0}},f.prototype.getFilter=function(b,c){if("function"==typeof c||void 0===c)return c;var d="string"==typeof b?b.split(/,\s*/):b;return d=a.isArray(d)?d:[d],function(b){var f=!1;return c=c.toLowerCase().trim(),a.each(d,function(a,d){if(!f){var g=e(d,b);"function"==typeof g&&(g=g()),String(g).toLowerCase().trim().indexOf(c)>-1&&(f=!0)}}),f}},f.prototype.setSort=function(b,c){this.$element.trigger(a.Event("sortChange.ac.list",{})),this.sort=this.getSort(b,c),this.currentPage=1,this.$element.trigger(a.Event("sortChanged.ac.list",{"function":this.sort}))},f.prototype.setFilter=function(b,c){this.$element.trigger(a.Event("filterChange.ac.list",{key:b,filter:c})),void 0===c?delete this.filters[b]:this.filters[b]=this.getFilter(b,c),this.currentPage=1,this.$element.trigger(a.Event("filterChanged.ac.list",{key:b,filter:c,"function":this.filters[b]}))},f.prototype.setCurrentPage=function(b){this.$element.trigger(a.Event("pageChange.ac.list",{})),this.currentPage=parseInt(b),this.$element.trigger(a.Event("pageChanged.ac.list",{page:this.currentPage}))},f.prototype.getCurrentItems=function(){var a=this.$items.slice(0);return"on"==this.options.filtering&&(a=this.getFilteredItems(a)),"on"==this.options.sorting&&(a=this.getSortedItems(a)),"on"==this.options.pagination&&(a=this.getPaginatedItems(a)),a},f.prototype.getFilteredItems=function(b){var c=this;if(!a.isEmptyObject(this.filters)){var d=[];return a.each(b,function(b,e){var f=!0;a.each(c.filters,function(a,b){f&&b(e)||(f=!1)}),f&&d.push(e)}),d}return b},f.prototype.getSortedItems=function(a){return this.sort?a.sort(this.sort):a},f.prototype.getPaginatedItems=function(b){var c=b.length,d=Math.ceil(c/this.pageSize),e=(this.currentPage-1)*this.pageSize,f=e+this.pageSize,g=Math.min(e+1,c),h=Math.min(f,c);return b=b.slice(e,f),this.$element.trigger(a.Event("paginated.ac.list",{page:this.currentPage,pages:d,count:c,items:b,start:g,end:h})),b},f.prototype.renderItem=function(b){var c=this,d=b,e=this.$items.indexOf(b),f=a(this.template(d)),g=a.grep(a.makeArray(f),function(a){return-1==[1,3,11].indexOf(a.nodeType)?!1:3==a.nodeType&&a.nodeValue.match(/^\s*$/)?!1:!0});g.length>1&&console.error("[ac.list] Templates for Adcom List can have only one top-level element. It currently has "+g.length+".",c.$element[0],g);var h=g[0];this.states[e]&&a(h).addClass(this.options.selectedClass);var i=void 0===a(h).data("field")?a(h).find("[data-field]"):a(h);return i.each(function(b,c){var e=a(c).attr("data-field"),f="function"!=typeof d[e]?d[e]:d[e]();a(c).html(String(f||""))}),a(h).data("ac.list.item",d),a(h).data("ac.list.index",e),a(h).on("update.ac.list",function(b){c.update(a(h),b.item)}),c.rendered[e]=h,h},f.prototype.getItemIndex=function(b){return"number"==typeof b?b:a(b)[0]instanceof HTMLElement?a(b).data("ac.list.index"):this.$items.indexOf(b)},f.prototype.add=function(a,b){b=void 0==b?this.$items.length:b,this.$items.splice(b,0,a),this.states.splice(b,0,void 0),this.rendered.splice(b,0,void 0),this.show()},f.prototype.update=function(b,c){var d=this.getItemIndex(b);if(-1==d)throw"Item not found in List, and could not be updated.";if(this.$items[d]=c,this.rendered[d]){var e=a(this.rendered[d]),f=this.renderItem(c);e.replaceWith(f),this.rendered[d]=f[0]}this.show()},f.prototype.delete=function(a){var b=this.getItemIndex(a);if(-1==b)throw"Item not found in List, and could not be deleted.";this.$items.splice(b,1),this.states.splice(b,1),this.rendered.splice(b,1),this.show()},f.prototype.destroy=function(){this.$element.off(".ac.list").removeData("ac.list"),this.$element.empty(),this.states=[],this.rendered=[]},f.prototype.toggleSort=function(b){var c=this;b.each(function(){var b=a(this),d=(a(b.data("target")),b.data("sort")),e=(b.data("states")||"ascending,descending").split(/,\s*/),f=(b.attr("class").match(/[\^\s]sort-(ascending|descending)/)||[])[1],g=e.indexOf(f),h=e[(g+1)%e.length];a('[data-sort][data-target="'+b.data("target")+'"]').removeClass("sort-ascending sort-descending"),"off"!==h&&b.addClass("sort-"+h),c.setSort(d,{ascending:!1,descending:!0,off:null}[h])})},f.prototype.toggleFilter=function(b){var c=this;b.each(function(){var b=a(this),d=a(b.data("target"));if(d[0]===c.$element[0]){var e=b.attr("data-filter"),f=b.is(":input")?b.val():b.attr("data-match");f||(f=void 0),c.setFilter(e,f)}})},f.data=function(b){var c="ac.list";b&&(c=c+"."+b);var e=d(a(this),c);return e?e.data(c):void 0};var g=a.fn.list;a.fn.list=c,a.fn.list.Constructor=f,a.fn.list.noConflict=function(){return a.fn.list=g,this},a(document).on(f.EVENTS,'[data-toggle="select"]',function(b){var e=a(this).closest('[data-toggle="select"]'),f=(e.attr("data-trigger")||"click").split(" ");if(-1!=f.indexOf(b.type)){e.is("a")&&b.preventDefault();var g=d(e,"ac.list.item"),h=d(e,"ac.list");c.call(h,"toggle",g)}}),a(document).on("click.ac.list.data-api","[data-sort]",function(b){var d=a(this).closest("[data-sort]"),e=a(d.data("target"));d.is("a")&&b.preventDefault(),c.call(e,"toggleSort",d),c.call(e,"show")}),a(document).on(f.EVENTS,"[data-filter]",function(b){var d=a(this).closest("[data-filter]"),e=a(d.data("target")),f=d.is(":input")?"change":"click",g=(d.attr("data-trigger")||f).split(" ");-1!=g.indexOf(b.type)&&(d.is("a")&&"click"===b.type&&b.preventDefault(),c.call(e,"toggleFilter",d),c.call(e,"show"))}),a(document).on("click.ac.list.data-api","[data-page]",function(b){var d=a(this).closest("[data-page]"),e=a(d.data("target"));d.is("a")&&b.preventDefault(),c.call(e,"setCurrentPage",d.data("page")),c.call(e,"show")}),a(document).on("ready",function(){a('[data-control="list"]').each(function(){c.call(a(this))})})}(jQuery),+function(a){"use strict";function b(c){var d=Array.prototype.slice.call(arguments,b.length);return"data"==c?f.data.apply(this,d):this.each(function(){var b=a(this),e=b.data("ac.form"),g=a.extend({},f.DEFAULTS,b.data(),e&&e.options,"object"==typeof c&&c);e||b.data("ac.form",e=new f(this,g)),"string"==typeof c?e[c].apply(e,d):g.show&&void 0!==g.serialized&&e.show("string"===g.serialized?JSON.parse(g.serialized):g.serialized,d[0]||{})})}function c(b,c){return a.makeArray(b).concat(a.makeArray(a(b).parents())).reduce(function(b,d){return b?b:void 0!==a(d).data(c)?a(d):void 0},null)}function d(b,c){var d={},e={"true":!0,"false":!1,"null":null};return a.each(b.replace(/\+/g," ").split("&"),function(b,f){var g,h=f.split("="),i=decodeURIComponent(h[0]),j=d,k=0,l=i.split("]["),m=l.length-1;if(/\[/.test(l[0])&&/\]$/.test(l[m])?(l[m]=l[m].replace(/\]$/,""),l=l.shift().split("[").concat(l),m=l.length-1):m=0,2===h.length)if(g=decodeURIComponent(h[1]),c&&(g=g&&!isNaN(g)?+g:"undefined"===g?void 0:void 0!==e[g]?e[g]:g),m)for(;m>=k;k++)i=""===l[k]?j.length:l[k],j=j[i]=m>k?j[i]||(l[k+1]&&isNaN(l[k+1])?{}:[]):g;else a.isArray(d[i])?d[i].push(g):d[i]=void 0!==d[i]?[d[i],g]:g;else i&&(d[i]=c?void 0:"")}),d}function e(a){function b(a){for(var b=a||(1,eval)("this"),d=c.length,e=0;d>e;e+=1)b&&(b=b[c[e]]);return b}var c=a.replace(/\[([-_\w]+)\]/g,".$1").split(".");return arguments.length>1?b(arguments[1]):b}var f=function(b,c){this.options=c,this.$element=a(b),this.options.action||this.$element.on("submit",function(a){a.preventDefault()}),this.createSubmit(),this.initializeValidation()};f.VERSION="0.1.0",f.DEFAULTS={show:!0,action:!0},f.prototype.show=function(b,c,d){var f=a.Event("show.ac.form",{serialized:b,relatedTarget:d});if(this.$element.trigger(f),!f.isDefaultPrevented()){var g={};this.$element.find(":input[name]").each(function(c,d){var f=d.name||a(d).attr("name"),h=e(f,b);h&&(g[f]=h),"checkbox"===a(d).attr("type")&&(g[f]={on:"on","true":"on"}[h]||"off")}),this.$element[0].reset(),this.$element.deserialize(g),c=c||{},this.sourceElement=c.sourceElement,this.sourceData=c.sourceData,a(this.$element[0]).one("reset",a.proxy(function(){this.sourceElement=this.sourceData=null},this)),this.$element.trigger(a.Event("shown.ac.form",{serialized:b,relatedTarget:d,sourceElement:this.sourceElement,sourceData:this.sourceData}))}},f.prototype.submit=function(){this.$element.submit()},f.prototype.serialize=function(){var a=this.$element.serializeArray(),b=d(this.$element.serialize());return{object:b,array:a}},f.prototype.validate=function(b){if(this.$validate){var c=a.Event("validate.ac.form",this.serialize());if(this.$element.trigger(c),!c.isDefaultPrevented()){var d=this.$element[0].checkValidity();d||(this.invalid(),b.preventDefault(),b.stopImmediatePropagation()),this.$element.trigger(a.Event("validated.ac.form",{isValid:d}))}}},f.prototype.invalid=function(){var b=this,c=a.Event("invalid.ac.form");this.$element.trigger(c),!c.isDefaultPrevented()&&this.$validate&&f.nativeValidation&&setTimeout(function(){b.$element.removeAttr("novalidate"),b.$displayNativeValidation.click(),b.$element.attr("novalidate","")},0)},f.prototype.addEventAttributes=function(b){a.extend(b,this.serialize(),{relatedTarget:this.$element,sourceElement:this.sourceElement,sourceData:this.sourceData})},f.prototype.createSubmit=function(){this.$displayNativeValidation=a('<input style="display: none;" type="submit" onsubmit="return false;">'),this.$element.append(this.$displayNativeValidation)},f.prototype.initializeValidation=function(){("undefined"==typeof this.$element.attr("data-original-novalidate")||null===this.$element.attr("data-original-novalidate"))&&this.$element.attr("data-original-novalidate","undefined"!=typeof this.$element.attr("novalidate")&&this.$element.attr("novalidate")!==!1),this.$validate=!this.$element.data("original-novalidate"),this.$element.attr("novalidate","")},f.prototype.reset=function(){this.$element[0].reset()},f.prototype.destroy=function(){this.$element.off(".ac.form").removeData("ac.form"),this.$validate?this.$element.removeAttr("novalidate"):this.$element.attr("novalidate","")},f.data=function(b){var d="ac.form";b&&(d=d+"."+b);var e=c(a(this),d);return e?e.data(d):void 0},f.nativeValidation=function(){var a=!1,b=document.createElement("form");return b.innerHTML='<input name="test" required><button></button>',b.addEventListener("submit",function(a){window.opera?a.stopPropagation():a.preventDefault()}),b.getElementsByTagName("input")[0].addEventListener("invalid",function(b){a=!0,b.preventDefault(),b.stopPropagation()}),b.getElementsByTagName("button")[0].click(),a}();var g=a.fn.form;a.fn.form=b,a.fn.form.Constructor=f,a.fn.form.noConflict=function(){return a.fn.form=g,this},a.event.special.submit={add:function(b){var c,d=b.handler;b.handler=function(b){return(c=a(this).data("ac.form"))&&(c.validate(b),c.addEventAttributes(b)),b.isImmediatePropagationStopped()?void 0:d.apply(this,arguments)}}},a(document).on("click",'[data-toggle="form"]',function(){var d=a(a(this).closest('[data-toggle="form"]')[0]),e=a(a(d.data("target"))[0]),f=d.data("source")||"serialized",g=c(d,f);if(g){var h=g.data(f);"string"===h?JSON.parse(h):h,e.form({show:!1}),b.call(e,"show",h,{sourceElement:g.clone(!0,!1),sourceData:h},d[0])}}),a(document).ready(function(){a('[data-control="form"]').each(function(){b.call(a(this))})})+function(a,b){function c(b){return b.map(function(){return this.elements?a.makeArray(this.elements):this}).filter(":input").get()}function d(c){var d,e={};return a.each(c,function(c,f){d=e[f.name],e[f.name]=d===b?f:a.isArray(d)?d.concat(f):[d,f]}),e}var e=Array.prototype.push,f=/^(?:radio|checkbox)$/i,g=/\+/g,h=/^(?:option|select-one|select-multiple)$/i,i=/^(?:button|color|date|datetime|datetime-local|email|hidden|month|number|password|range|reset|search|submit|tel|text|textarea|time|url|week)$/i;a.fn.deserialize=function(j,k){var l,m,n=c(this),o=[];if(!j||!n.length)return this;if(a.isArray(j))o=j;else if(a.isPlainObject(j)){var p,q;for(p in j)a.isArray(q=j[p])?e.apply(o,a.map(q,function(a){return{name:p,value:a}})):e.call(o,{name:p,value:q})}else if("string"==typeof j){var r;for(j=j.split("&"),l=0,m=j.length;m>l;l++)r=j[l].split("="),e.call(o,{name:decodeURIComponent(r[0]),value:decodeURIComponent(r[1].replace(g,"%20"))})}if(!(m=o.length))return this;var s,t,u,v,w,x,y,q,z=a.noop,A=a.noop,B={};for(k=k||{},n=d(n),a.isFunction(k)?A=k:(z=a.isFunction(k.change)?k.change:z,A=a.isFunction(k.complete)?k.complete:A),l=0;m>l;l++)if(s=o[l],w=s.name,q=s.value,(t=n[w])&&(y=(v=t.length)?t[0]:t,y=(y.type||y.nodeName).toLowerCase(),x=null,i.test(y)?(v&&(u=B[w],t=t[B[w]=u==b?0:++u]),z.call(t,t.value=q)):f.test(y)?x="checked":h.test(y)&&(x="selected"),x))for(v||(t=[t],v=1),u=0;v>u;u++)s=t[u],s.value==q&&z.call(s,(s[x]=!0)&&q);return A.call(this),this}}(jQuery)}(jQuery),+function(a){"use strict";function b(d){var e=Array.prototype.slice.call(arguments,b.length);return this.each(function(){var b=a(this),f=b.data("ac.state"),g=a.extend({},c.DEFAULTS,b.data(),"object"==typeof d&&d);f||b.data("ac.state",f=new c(this,g)),"string"==typeof d&&f[d].apply(f,e)})}var c=function(b,c){this.options=c,this.$element=a(b),this.$location=this.$element[0].location,this.$history=this.$element[0].history,this.state=this.getLocationState(),this.initialState=this.options.initialState||this.state,this.isUpdating=!1,this.$history.replaceState(this.initialState,document.title,this.$location.pathname+this.$location.search),this.$element[0].onpopstate=a.proxy(this.onpopstate,this),this.options.triggerState&&(this.options.allowRepeats=!1,this.$element.on("updated.ac.state",a.proxy(this.triggerState,this)),this.peek())};c.VERSION="0.1.0",c.EVENTS=a.map("scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave load resize scroll unload error keydown keypress keyup load resize scroll unload error blur focus focusin focusout change select submit".split(" "),function(a){return a+".ac.state.data-api"}).join(" "),c.DEFAULTS={initialState:null,allowRepeats:!0,triggerState:!1,path:!1},c.prototype.getLocationState=function(){return this.deserialize(this.$location.pathname+this.$location.search)},c.prototype.push=function(b,c){b="undefined"!=typeof b?b:{},c="undefined"!=typeof c?c:{},c.merge="undefined"!=typeof c.merge?c.merge:!0,c.allowRepeats=this.options.allowRepeats,c.action=c.action||"push",c.merge&&(b=a.extend(!0,{},this.state,b));var d=this.serialize(b);this.$element.trigger(a.Event("push.ac.state",{state:b,options:c})),d!==this.serialize(this.state)?(this.$history[c.action+"State"](b,document.title,d),this.update(b,a.Event("push.ac.state"))):c.allowRepeats&&this.update(b,a.Event("push.ac.state")),this.$element.trigger(a.Event("pushed.ac.state",{state:b,options:c}))},c.prototype.pop=function(){this.$history.back()},c.prototype.peek=function(){this.update(this.state,a.Event("peek.ac.state"))},c.prototype.onpopstate=function(a){this.update(a.state,a)},c.prototype.update=function(b,c){this.$element.trigger(a.Event("update.ac.state",{state:b,trigger:c})),this.state=b,this.$element.trigger(a.Event("updated.ac.state",{state:b,trigger:c}))},c.prototype.serialize=function(b){b=a.extend({},b);var c="";if(this.options.path){var c=this.options.path.base||"",d=this.options.path.attr;b[d]&&(c+=b[d]),delete b[d]}else c=window.location.pathname;var e=a.param(b);return e.length>0&&(c+="?"+e),0==c.length&&(c="/"),c},c.prototype.deserialize=function(a){var b=a.split("?")[0],d=c.parseParams(a.split("?")[1]);if(this.options.path){var e=b.replace(this.options.path.base,"");e&&(d[this.options.path.attr]=e)}return d},c.prototype.triggerState=function(b){var c=function(b,d){if(d){var e=[].concat(["state"],b).join("-");a.each(d,function(d,f){if("object"==typeof f)c([].concat(b,[d]),f);else{var g=a('[data-toggle="state"]['+e+"-"+d+'="'+f+'"], [data-nav="state"]['+e+"-"+d+'="'+f+'"]');g.each(function(b,c){a(c).trigger(a(c).data("trigger")||"click")})}})}};b.trigger&&"push.ac.state"!==b.trigger.type&&c([],b.state)},c.parseParams=function(b){function c(b,d,e){if(d+="",-1!==d.indexOf(".")){var f=d.split("."),g=d.split(/\.(.+)?/)[1];b[f[0]]||(b[f[0]]={}),""!==g?c(b[f[0]],g,e):console.warn('parseParams :: empty property in key "'+d+'"')}else if(-1!==d.indexOf("[")){var f=d.split("[");d=f[0];var f=f[1].split("]"),h=f[0];""==h?(b||(b={}),b[d]&&a.isArray(b[d])||(b[d]=[]),b[d].push(e)):(b||(b={}),b[d]&&a.isArray(b[d])||(b[d]=[]),b[d][parseInt(h)]=e)}else b||(b={}),b[d]=e}var d=/([^&=]+)=?([^&]*)/g,e=function(a){return decodeURIComponent(a.replace(/\+/g," "))};b+="",null===b.match(/\?/)&&(b="?"+b);var f,g={};if(b){if(-1!==b.indexOf("#")&&(b=b.substr(0,b.indexOf("#"))),-1===b.indexOf("?"))return{};if(b=b.substr(b.indexOf("?")+1,b.length),""==b)return{};for(;f=d.exec(b);){var h=e(f[1]),i=e(f[2]);c(g,h,i)}}return delete g[void 0],g};var d=a.fn.state;a.fn.state=b,a.fn.state.Constructor=c,a.fn.state.noConflict=function(){return a.fn.state=d,this},a(document).on(c.EVENTS,'[data-toggle="state"], [data-nav="state"]',function(c){var d=a(this).closest('[data-toggle="state"], [data-nav="state"]'),e=(d.attr("data-trigger")||"click").split(" "),f="false"==d.attr("data-merge")?!1:!0,g=d.attr("data-action");if(d.is("a")&&c.preventDefault(),-1!=e.indexOf(c.type)){var h=JSON.parse(d.attr("state")||"{}");0==Object.keys(h).length&&a.each(d[0].attributes,function(b,c){if(c.name.match(/^state-.+/)){var d=h,e=c.name.replace(/^state-/,"").split("-");a.each(e,function(a,b){a<e.length-2?d=d[b]:d[b]=c.value})}}),b.call(a(window),"push",h,{merge:f,action:g})}}),a(document).on("ready",function(){a('[data-control="state"]').each(function(){var c=a(this),d=c.data();d.path=d.path||{},d.allowRepeats=0!=d.allowRepeats?!0:!1,d.pathAttr&&(d.path.attr=d.pathAttr),d.pathBase&&(d.path.base=d.pathBase),a.isEmptyObject(d.path)&&delete d.path,b.call(a(window),d)})})}(jQuery);